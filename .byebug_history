exit
session[:user_id]
session.include?(:user_id)
exit
session[:user_id]
session
params
exit
params[:password]
params[:password
params
exit
params[:user]
params[:user][:password]
@user
exit
params[:user]
params
exit
User.find_by(id: params[:id])
User.find(params[:id])
params[:user]
params
exit
@user
params
exit
params
@user
exit
params
exit
@user.admin
@user
exit
@user
@user.valid?
@user.name
@user
exit
@user.name
@user.valid?
@user
exit
@user.valid?
exit
user_params
@user.errors
@user.valid?
exit
user.valid?
exit
user.valid?
user
exit
user.tickets
dif
dif = user.tickets-=attraction.tickets
user.update(tickets: user.tickets -= attraction.tickets)
exit
user.valid?
user
user.save
user
user.tickets -= attraction.tickets
user
message
exit
message
